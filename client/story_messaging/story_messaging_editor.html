<template name="story_messaging_editor">

	<div class="divChatHeadline">

		<h1>Edit {{chatName}}</h1>
	</div>

	<div class="divEditResponseChild">

		{{#with childRecord}}

			{{> story_messaging_element}}

		{{/with}}	
	</div>

	<div class="divEditResponseGrand">
		{{#with grandRecord}}

			{{> story_messaging_element}}

		{{/with}}
	</div>

	<div class="divEditResponseParent">
		{{#with parentRecord}}

			{{> story_messaging_element}}

		{{/with}}	
	</div>
</template>


<template name="story_messaging_element">

<!--	{{#with chatRecord}}  -->

		<div class="chatEditContainer" style="background-color: {{elementColor}}">

			<div class="chatEditColumn chatLeftColumn">

					<div class="divChatUserPic">

						<img class="imgChatUserPic" src="{{chatUserPic}}" />

					</div>

					{{#if isUser}}
						
						<div class="divAddChatResponseBtn">

							<button class="btn btn-danger btnAddChatResponse" id=""><strong>+</strong></button> 
						</div>

					{{/if}}
			</div>

	 
			<div class="chatEditColumn chatCenterColumn">

				<label class="lblChatEdit" for="nameEdit">{{chatElementType}}</label><input type="text" class="inputChatEdit" size="55" value="{{this.n}}" id="{{nameID}}">

				{{#each response}}
				
					<div>
						<hr>	

						<input type="text" class="inputChatEdit inputTextEdit" size="45" value="{{this.t}}" id="{{responseIDFromParent @index}}">

						<button class="btn btn-success btnEditResponseDest" id="{{destinationIDFromParent @index}}" onclick="smed.editResponse('{{this.g}}','{{relationFromParent}}')"><strong>&gt;&nbsp;&nbsp;{{this.g}}</strong></button> 
					</div>

				{{/each}}

				{{#if hasExecuteField}}
				
					<div class="divChatExecuteEdit">

						<label class="lblChatExecuteEdit" for="executeEdit">Execute:</label><input type="text" class="inputChatExecuteEdit" size="55" value="{{executeValue}}" id="{{executeID}}">

					</div>
				{{/if}}

			</div>


			<div class="chatEditColumn chatRightColumn">

				<div class="divBtnSaveChat">

					<button type="button" class="btn btn-default btn-md" id="{{this._id}}" onclick="smed.saveRecord('{{this.relation}}')">
		          		<span class="glyphicon glyphicon-ok"></span>
	        		</button>
	        	</div>

	 			<div class="divBtnDeleteChat">

					<button type="button" class="btn btn-default btn-md ">
		          		<span class="glyphicon glyphicon-trash"></span>
	        		</button>
	        	</div>

	 			<div class="divBtnConfigureChat">

					<button type="button" class="btn btn-default btn-md ">
		          		<span class="glyphicon glyphicon-cog"></span>
	        		</button>
	        	</div>
			</div>

		</div>  <!-- close container div (flexbox) -->

<!--	{{/with}}  -->

</template>